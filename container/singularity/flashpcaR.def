Bootstrap: docker
From: gaow/base-notebook

%labels
maintainer="Hao Sun<hs3163@cumc.columbia.edu>"
%post

# Maintainer and author

# This docker image contains flashpcar and other packages that are used in the data_preprocessing/PCA stage of the xqtl pipeline

su -  root # USER root

## Tidyverse and other common R packages
R --slave -e "install.packages(c('rlang',,tidyverse','gridExtra', 'matrixStats', 'devtools'))"

## flashpcaR
R --slave -e 'devtools::install_github("gabraham/flashpca/flashpcaR")'

### PLINK

wget http://s3.amazonaws.com/plink1-assets/plink_linux_x86_64_20200616.zip && \
unzip plink_linux_x86_64_20200616.zip && mv plink /usr/local/bin
%runscript
exec /bin/bash "$@"
%startscript
exec /bin/bash "$@"